
<div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-6 pull-right">
                <div class="btn-group pull-right">
                    <button type="submit"
                            ui-sref="project.detail({pid:estimate.ownerProject.id})"
                            class="btn btn-info btn-sm">
                        <span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span translate="entity.action.back"> Back</span>
                    </button>
                    <!--
                    <button type="submit"
                            class="btn btn-info btn-sm"
                            ng-click="copyEstimate(estimate.id)">
                        <span class="glyphicon glyphicon-plus-sign"></span>
                        <span class="hidden-xs hidden-sm">
                            <span translate="entity.action.copy">Copy</span>
                        </span>
                    </button>
                    -->
                    <button type="submit" class="btn btn-primary btn-sm"  ng-show="isCreator(estimate)"
                            ui-sref="estimate.edit({eid:estimate.id})" class="btn btn-primary btn-sm">
                        <span class="glyphicon glyphicon-pencil"></span>
                        <span class="hidden-xs hidden-sm" translate="entity.action.edit"></span>
                    </button>
                    <button type="submit" ng-show="isCreator(estimate)"
                            ui-sref="estimate.delete({pid:estimate.ownerProject.id, eid:estimate.id})"
                            class="btn btn-danger btn-sm">
                        <span class="glyphicon glyphicon-remove-circle"></span>
                        <span class="hidden-xs hidden-sm" translate="entity.action.delete"></span>
                    </button>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 wrap-field pull-left"><h2>{{estimate.id}}</h2></div>

        </div>
    </div>
    <div class="container-fluid">
        <div class="row desktop-border bg-always-gray box-padding-margin">
            <div class="col-xs-12 col-sm-4 right-padder">
                <div class="col-sm-12 col-xs-6">
                    <span translate="tenderworkApp.estimate.totalPrice" class="projectdetail">TotalPrice</span>
                </div>
                <div class="col-sm-12 col-xs-6">
                    <span class="form-control-static">{{estimate.totalPrice}}</span>
                </div>
            </div>

            <div class="col-xs-12 col-sm-4 left-padder right-padder">
                <div class="col-sm-12 col-xs-6">
                    <span translate="tenderworkApp.estimate.totalDuration" class="projectdetail">TotalDuration</span>
                </div>
                <div class="col-sm-12 col-xs-6">
                    <span class="form-control-static">{{estimate.totalDuration}}</span>
                </div>
            </div>

            <div class="col-xs-12 col-sm-4 left-padder">
                <div class="col-sm-12 col-xs-6">
                    <span translate="tenderworkApp.estimate.createdBy" class="projectdetail">createdBy</span>
                </div>
                <div class="col-sm-12 col-xs-6">
                    <span class="form-control-static">{{estimate.createdBy.login}}</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12" data-tndr-height-max-check="estimate">
                <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-4 right-padder box-padding-margin">
                        <div class="row desktop-border bg-always-gray" data-tndr-height-max-target="estimate">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.resourcing" class="projectdetail">Resourcing</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{roundedResourcing}}</span>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.totalSynergyBenefit" class="projectdetail" ng-show="task.synergyCheck=='true'">TotalSynergyBenefit</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static" ng-show="task.synergyCheck=='true'">{{estimate.totalSynergyBenefit}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-6 col-md-4 right-padder left-padder box-padding-margin">
                        <div class="row desktop-border bg-always-gray" data-tndr-height-max-target="estimate">
                            <div class="row">

                                <div class="col-xs-12">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.workdaysInMonth" class="projectdetail">WorkdaysInMonth</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.workdaysInMonth}}</span>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.desiredProjectDuration" class="projectdetail">DesiredProjectDuration</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.desiredProjectDuration}}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-12">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.dailyPrice" class="projectdetail">DailyPrice</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.dailyPrice}}</span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4 left-padder box-padding-margin">
                        <div class="row desktop-border bg-always-gray" data-tndr-height-max-target="estimate">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.specificationFactor" class="projectdetail">SpecificationFactor</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.specificationFactor}}</span>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.implementationFactor" class="projectdetail">ImplementationFactor</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.implementationFactor}}</span>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.testingFactor" class="projectdetail">TestingFactor</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.testingFactor}}</span>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-6">
                                        <div class="col-sm-12 col-xs-6 padding-detail-header-field">
                                            <span translate="tenderworkApp.estimate.synergyBenefit" class="projectdetail">SynergyBenefit</span>
                                        </div>
                                        <div class="col-sm-12 col-xs-6 padding-detail-text-field">
                                            <span class="form-control-static">{{estimate.synergyBenefit}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <jh-alert></jh-alert>
    <div class="container-fluid">
        <div class="row">
            <div class="row btn-bottom">
                <div class="col-xs-4 reqtitle-text-field"><h4 class="reqtitle" translate="tenderworkApp.requirement.home.title">Requirements</h4></div>
                <div class="col-xs-8 btn-newrequirement">
                    <button class="btn btn-info pull-right" ng-click="openAll = !openAll">
                        <span class="glyphicon glyphicon-th-list"></span>
                        <span class="hidden-xs" translate="global.toggleall">Toggle all</span>
                    </button>
                    <button ng-show="isCreator(estimate)" class="btn btn-primary pull-right" ui-sref="requirement.new({eid:estimate.id})" >
                        <span class="glyphicon glyphicon-plus"></span>
                        <span class="hidden-xs" translate="tenderworkApp.requirement.home.createLabel">Create new Requirement</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="panel-group" id="accordionReq" ng-controller="RequirementController" aria-multiselectable="true">
                <div class="panel panel-default desktop-border" ng-repeat="requirement in requirements | orderBy:'requirement.id':reverse track by requirement.id ">
                    <div class="panel-heading panel-heading-req bg-always-gray" id="head{{requirement.id}}">
                        <div class="row">
                            <div class="col-xs-1 pull-left">
                                <button class="btn btn-xs accordion-toggle" ng-click="accordionRecalculate('req-' + requirement.id)" data-toggle="collapse" data-target="#body{{requirement.id}}"><span class="glyphicon glyphicon-triangle-bottom"></span></button>
                            </div>

                            <div class="col-xs-6 col-sm-3 pull-right">
                                <div class="btn-group pull-right no-padding-right">
                                    <button ng-show="isCreator(estimate)" type="submit" class="btn btn-info btn-xs" ng-click="copyRequirement(requirement.id)">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                        <span class="hidden-xs hidden-sm"><span translate="entity.action.copy">Kopioi vaatimus</span></span>
                                    </button>
                                    <button ng-show="isCreator(requirement)" class="btn btn-primary btn-xs" ui-sref="requirement.edit({rid:requirement.id, eid:estimate.id})"><span class="glyphicon glyphicon-pencil"></span></button>
                                    <button ng-show="isCreator(requirement)" class="btn btn-danger btn-xs" ui-sref="requirement.delete({rid:requirement.id, eid:estimate.id})" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove-circle"></span></button>
                                </div>
                            </div>
                            <div class="col-sm-8 col-xs-12 pull-left">
                                <div class="col-xs-8 pull-left" style="word-wrap: break-word"><h4 class="panel-title">{{requirement.name}}</h4></div>
                                <div class="col-xs-4 pull-left" style="word-wrap: break-word"><h4 class="panel-title"><span translate="tenderworkApp.requirement.totalDuration" class="projectdetail">totalDuration</span> {{requirement.totalDuration}}</h4></div>
                            </div>
                        </div>
                    </div>

                    <div class="panel-body">
                        <div id="body{{requirement.id}}" class="panel-collapse collapse" ng-class="{'in':openAll}" aria-labelledby="head{{requirement.id}}">
                            <div class="row"  style="overflow-x: hidden;">
                                <div class="col-xs-12">
                                    <div class="col-xs-12 desktop-border bg-always-gray">
                                        <div class="col-xs-12 col-sm-3">
                                            <div class="col-xs-12 padding-detail-header-field">
                                                <span translate="tenderworkApp.requirement.durationSpecification" class="projectdetail">durationSpecification</span>
                                            </div>
                                            <div class="col-xs-12 padding-detail-text-field">
                                                <span class="form-control-static">{{requirement.durationSpecification}}</span>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-3">
                                            <div class="col-xs-12 padding-detail-header-field">
                                                <span translate="tenderworkApp.requirement.durationImplementation" class="projectdetail">durationImplementation</span>
                                            </div>
                                            <div class="col-xs-12 padding-detail-text-field">
                                                <span class="form-control-static">{{requirement.durationImplementation}}</span>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-3">
                                            <div class="col-xs-12 padding-detail-header-field">
                                                <span translate="tenderworkApp.requirement.durationTesting" class="projectdetail">durationTesting</span>
                                            </div>
                                            <div class="col-xs-12 padding-detail-text-field">
                                                <span class="form-control-static">{{requirement.durationTesting}}</span>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-3">
                                            <div class="col-xs-12 padding-detail-header-field">
                                                <span translate="tenderworkApp.requirement.synergyBenefit" class="projectdetail">synergyBenefit</span>
                                            </div>
                                            <div class="col-xs-12 padding-detail-text-field">
                                                <span class="form-control-static">{{requirement.synergyBenefit}}</span>
                                            </div>
                                        </div>
                                        <!--taaags-->
                                        <div class="col-xs-12">
                                            <div class="col-xs-12 padding-detail-header-field">
                                                <span translate="tenderworkApp.tagsinput" class="projectdetail">synergyBenefit</span>
                                            </div>
                                            <div class="col-xs-12 padding-detail-text-field">
                                                <tags-input placeholder="{{empty}}" disabled="true" ng-model="requirement.tags" display-property="name" key-property="id"></tags-input>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-12">
                                            <div class="col-xs-12 padding-detail-header-field">
                                                <span translate="tenderworkApp.requirement.description" class="projectdetail">description</span>
                                            </div>
                                            <div class="col-xs-12 padding-detail-text-field" style="word-wrap: break-word">
                                                <span class="form-control-static">{{requirement.description}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                                    <!--TASKIN LUONTI-->
                            <div class="container-fluid">
                                <div class="row btn-bottom">
                                    <div class="col-xs-4 requirementlisting reqtitle-text-field"><h4 class="reqtitle" translate="tenderworkApp.task.home.title">Tasks</h4></div>
                                    <div class="col-xs-8 btn-newtask">
                                        <button ng-show="isCreator(requirement)" class="btn btn-primary pull-right" ui-sref="task.new({rid:requirement.id, eid:estimate.id})" >
                                            <span class="glyphicon glyphicon-plus"></span>
                                            <span class="hidden-xs" translate="tenderworkApp.task.home.createLabel">Create new Task</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!--TASK-->
                            <div class="panel-group" id="accordionTask" ng-controller="TaskController" aria-multiselectable="true" ng-repeat="taskObject in tasks | filter: { requirementId:requirement.id } ">
                                <div class="panel panel-default desktop-border" ng-repeat="task in taskObject.tasks | orderBy:'task.id':reverse track by task.id"><!--track by task.id-->
                                    <div class="panel-heading panel-heading-task" id="head2{{task.id}}">
                                        <div class="col-sm-2 col-xs-12 pull-right">
                                            <div class="btn-group pull-right no-padding-right">
                                                <button class="btn btn-default btn-xs accordion-toggle" data-toggle="collapse" data-target="#body2{{task.id}}"><span class="glyphicon glyphicon-eye-open"></span></button>
                                                <button ng-show="isCreator(task)" class="btn btn-primary btn-xs" ui-sref="task.edit({tid:task.id, eid:estimate.id, rid:requirement.id})"><span class="glyphicon glyphicon-pencil"></span></button>
                                                <button ng-show="isCreator(task)" class="btn btn-danger btn-xs" ng-click="deleteTask(task)"><span class="glyphicon glyphicon-remove-circle"></span></button>
                                            </div>
                                        </div>
                                        <div class="col-sm-10 col-xs-12 pull-left">
                                            <div class="col-xs-12" style="word-wrap: break-word"><h4 class="panel-title">{{task.name}}</h4></div>
                                        </div>
                                    </div>
                                    <div class="panel-body bg-always-gray">
                                        <div id="body2{{task.id}}" class="panel-collapse collapse" ng-class="{'in':openAll}" aria-labelledby="head2{{task.id}}">
                                            <div class="row">
                                                <div class="col-xs-12 col-lg-12 bg-always-darkgray">
                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.estimateSpecification" class="projectdetail">estimateSpecification</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.estimateSpecification}}</span>
                                                        </div>
                                                    </div>


                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.estimateImplementation" class="projectdetail">estimateImplementation</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.estimateImplementation}}</span>
                                                        </div>
                                                    </div>


                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.estimateTesting" class="projectdetail">estimateTesting</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.estimateTesting}}</span>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.estimateSynergy" class="projectdetail">estimateSynergy</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.estimateSynergy}}</span>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.specificationTotal" class="projectdetail">specificationTotal</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.specificationTotal}}</span>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.implementationTotal" class="projectdetail">implementationTotal</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.implementationTotal}}</span>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.testingTotal" class="projectdetail">testingTotal</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.testingTotal}}</span>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.synergyTotal" class="projectdetail">synergyTotal</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.synergyTotal}}</span>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-3">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.estimateTotal" class="projectdetail">estimateTotal</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <span class="form-control-static">{{task.estimateTotal}}</span>
                                                        </div>
                                                    </div>
                                                    <!--taaags-->
                                                    <div class="col-xs-12">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.tagsinput" class="projectdetail">Tags</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field">
                                                            <tags-input placeholder="{{empty}}" disabled="true" ng-model="task.tags" display-property="name" key-property="id"></tags-input>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12">
                                                        <div class="col-xs-12 padding-detail-header-field">
                                                            <span translate="tenderworkApp.task.description" class="projectdetail">description</span>
                                                        </div>
                                                        <div class="col-xs-12 padding-detail-text-field" style="word-wrap: break-word">
                                                            <span class="form-control-static" >{{task.description}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
                        <!--SISÄLTÖ LOPPUU-->
    <button type="submit" ui-sref="project.detail({pid:estimate.ownerProject.id})" class="btn btn-info">
        <span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span translate="entity.action.back"> Back</span>
    </button>
</div>

